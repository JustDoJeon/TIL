

# 내가 이걸 정리하는 이유
복잡한 AS-IS 시스템의 쿼리가 약 800줄의 sql문으로 보여지고있었다. <br> 
그 이름은 바로 '배송형태별 전사재고조회 화면'  <br> 
이름부터 살벌한 놈임을 직감했다.  <br>
현재 레거시 시스템의 데이터로 보여지고있고 클라우드 서버로 이관을 한 물류시스템으로부터 데이터를 받아서 레거시 테이블에 저장해야한다. <br>  
<br>
단계적으로 보면 
1. 레거시 테이블에 데이터를 생성한다.
2. 물류시스템에서 레거시 시스템으로 데이터를 송신한다. 
3. 위 데이터를 적재한다. 
4. 약 800줄의 sql문으로 보여지고있는 시스템에 조인을 통해 화면에 보여준다. <br>
<br>
> 💡이과정에서 나는 회사 선배가 뷰의 개념을 물어보셨다. <br>
> 이유는 서브쿼리 즉,인라인뷰의 사용 때문이다 그래서 애매한 개념을 정리해보겠다.

------

## \*💡\*  뷰가 뭔지 알아 도도?

> - 인라인 뷰는 그럼 뭘까 ?
>> 서브쿼리가 FROM 절 안에서 사용되는 경우, 해당 서브쿼리를 '인라인뷰' 라고한다. <BR> 
>> 서브쿼리란 SELECT 문 안에 다시 SELECT 문이 기술된 형태의 쿼리(QUERY) <BR> 
>> FROM 절에서 사용된 서브쿼리의 결과가 하나의 테이블에 대한 뷰(VIEW)처럼 사용된다. <br>  
> - 인라인뷰는 왜 사용할까?
>> - 서브쿼리와 데이블 조인이 이루어질 경우 검색하는 데이터명(필드명)은 [테이블.필드명]과 같이 길어지된다.<br>
> 이때 서브쿼리를 통애 메인쿼리로 올라갈수록 쿼리의 길이가 점점 더 길어질 뿐 아니라 쿼리의 가독성이 떨어진다. <br>
> 이때, FROM절에서 사용하는 인라인뷰에 별칭(Alias)를 줘서 간단하게 만들 수 있다.<br>
<br>
>> - 전체 테이블을 비교하는 것 보다 테이블의 일부 데이터만을 불러와 그 중에서 조건을 따지는것이 비교하는 횟수가 적다. <br>
> 예를들어, 전체 데이터에서 비교하는 것보다 ROWNUM을 이용해서 10번째 튜플 정보만 가져와 <br>
> 그 중에서 조건을 따져 데이터를 가져온다면 비교하는 횟수가 줄어들게 할 수도 있다 <br> (ROWNUM은 데이터를 가져오는 갯수를 제한하는 방식으로 N-TOP 질의라고 한다.)
<br>

> - 뷰는 그럼 뭘까 ?
>> 뷰는 데이터베이스에서 존재하는 일종의 가상 테이블, 실제 데이터를 저장하고 있진 않지만, 실제 테이블처럼 행과 열을 가지고있다. <br>
> - 뷰의 장점<br><br>
>> 원하는 부분만 가져와서 사용할 수 있다. <br>
>> 복잡한 쿼리를 단순화해서 사용 가능하다.<br>
>> 데이터의 보안이 용이하다.<br>
>> 사용자가 데이터를 관리하기가 쉽다.<br>
>> 논리적 독립성을 제공한다. <br>
<br>
> - 뷰의 단점 <br><br>
>> 인덱스를 구성할 수 없다. <br>
>> 한번 정의된 뷰는 수정이 불가하다.  <br>
>> 삽입,갱신,삭제 연산에 많은 제약이 있다. 
<br><br>

> 개념은 여기까지... 그럼 정말 서브쿼리 때문에 느린건가.. <br>
> 결론은 NL 조인으로 인해 느린것이다 . 내일(20241121) 더 알아보겠다,, 


# Reference

● https://loghada.tistory.com/18

● https://one-armed-boy.tistory.com/entry/%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC%EC%9D%98-%EC%84%B1%EB%8A%A5%EC%97%90-%EB%8C%80%ED%95%9C-%EC%98%A4%ED%95%B4

